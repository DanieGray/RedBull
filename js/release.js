/*! RedBull: v1.0.10 (webpack: v1.12.14) */
!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";var n,s=i(4),a=i(5),o=i(1),r=i(3),c=i(12);s.addListeners({load:function(){a.init([i(27),i(28),i(8),i(21),i(13)])},done:function(){var e=document.createElement("iframe");e.src="about:blank",e.style.display="none",window.parent!==window&&window.parent.postMessage("show","*"),n=i(20),r.environment=JSON.parse(gSTB.GetEnv('{"varList":["hdmi_event_delay"]}')).result,c.authorize(function(e){r.auth||(e&&gSTB.SaveUserData(r.userDataFileName,JSON.stringify(r.userConfig)),setTimeout(function(){a.navigate("pageService")},600))}),document.body.appendChild(e),window.XMLHttpRequest=e.contentWindow.XMLHttpRequest},keydown:function(e){switch(e.code){case o.volumeDown:case o.volumeUp:case o.mute:n.changeVolume(e.code);break;case 2085:gSTB.GetStandByStatus()?gSTB.StandBy(!1):(gSTB.StandBy(!0),a.navigate("pageMenu"),location.reload())}}}),s.exit=function(){gSTB.Stop(),window.parent!==window?window.parent.postMessage("hide","*"):window.location.href=i(35)()||"file:///home/web/services.html"}},function(e,t,i){"use strict";e.exports={back:8,"delete":46,channelPrev:1009,channelNext:9,ok:13,exit:27,up:38,down:40,left:37,right:39,pageUp:33,pageDown:34,end:35,home:36,volumeUp:107,volumeDown:109,f1:112,f2:113,f3:114,f4:115,refresh:116,frame:117,phone:119,set:120,tv:121,menu:122,web:123,mic:2032,rewind:2066,forward:2070,app:2076,usbMounted:2080,usbUnmounted:2081,playPause:2082,stop:2083,power:2085,record:2087,info:2089,mute:2192,clock:2032,audio:2071,keyboard:2076}},function(e,t,i){"use strict";function n(e){var t,i=this;if(e=e||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!e.propagate,s.call(this,e.data),this.$node=e.$node||document.createElement("div"),this.$body=e.$body||this.$node,this.$node.className+=" component "+(e.className||""),this.id=e.id||this.$node.id||"cid"+o++,e.parent&&e.parent.add(this),e.visible===!1&&this.hide(),e.focusable===!1&&(this.focusable=!1),this.defaultEvents){e.events=e.events||{};for(t in this.defaultEvents)e.events[t]=e.events[t]||this.defaultEvents[t]}e.events&&this.addListeners(e.events),e.children&&this.add.apply(this,e.children),this.$node.addEventListener("click",function(e){0===e.button&&(i.focus(),i.events.click&&i.emit("click",{event:e})),e.stopPropagation()})}var s=i(10),a=i(5),o=0;n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.defaultEvents=null,n.prototype.add=function(e){var t;for(t=0;t<arguments.length;t++)e=arguments[t],this.children.push(e),e.parent=this,e.$node&&null===e.$node.parentNode&&this.$body.appendChild(e.$node),this.events.add&&this.emit("add",{item:e})},n.prototype.remove=function(){this.parent&&(a.current.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(e){e.remove()}),this.removeAllListeners(),this.$node.parentNode.removeChild(this.$node),this.events.remove&&this.emit("remove")},n.prototype.focus=function(e){var t=a.current,i=t.activeComponent;return this.focusable&&this!==i?(i&&i.blur(),t.activeComponent=i=this,i.$node.classList.add("focus"),i.events.focus&&i.emit("focus",e),!0):!1},n.prototype.blur=function(){var e=a.current,t=e.activeComponent;return this.$node.classList.remove("focus"),this===t?(e.activeComponent=null,this.events.blur&&this.emit("blur"),!0):!1},n.prototype.show=function(e){return this.visible?!0:(this.$node.classList.remove("hidden"),this.visible=!0,this.events.show&&this.emit("show",e),!0)},n.prototype.hide=function(){return this.visible?(this.$node.classList.add("hidden"),this.visible=!1,this.events.hide&&this.emit("hide"),!0):!0},e.exports=n},function(e,t){"use strict";e.exports={userDataFileName:"redbull.tv.json",movieList:{},dataProviderType:{TYPE_SERVICE:1,TYPE_SEARCH:2,TYPE_HISTORY:3,TYPE_FAVORITE:4},proxyServer:"",volume:100,singleMode:{active:!0,name:"Twitch.tv",hd:!0},auth:!1,userConfig:{}}},function(e,t,i){"use strict";var n,s,a=i(30),o=i(5),r=i(1),c={};i(33),n=new a({debug:!1,host:!0,screen:null,time:{init:+new Date,load:0,done:0}}),n.setScreen=function(e){var t;return e?(e.availHeight=e.height-(e.availTop+e.availBottom),e.availWidth=e.width-(e.availLeft+e.availRight),window.moveTo(0,0),window.resizeTo(e.width,e.height),t=document.querySelector("link[rel=stylesheet]"),t&&t instanceof HTMLLinkElement&&document.head.removeChild(t),t=document.createElement("link"),t.rel="stylesheet",t.href="css/release."+e.height+".css?"+ +new Date,document.head.appendChild(t),this.data.metrics=e,!0):!1},n.EVENT_END_OF_FILE=1,n.EVENT_GET_MEDIA_INFO=2,n.EVENT_PLAYBACK_BEGIN=4,n.EVENT_CONTENT_ERROR=5,n.EVENT_DUAL_MONO_DETECT=6,n.EVENT_INFO_GET=7,n.EVENT_SUBTITLE_LOAD_ERROR=8,n.EVENT_SUBTITLE_FIND=9,n.EVENT_HDMI_CONNECT=32,n.EVENT_HDMI_DISCONNECT=33,n.EVENT_RECORD_FINISH_SUCCESSFULL=34,n.EVENT_RECORD_FINISH_ERROR=35,n.EVENT_DVB_SCANING=40,n.EVENT_DVB_FOUND=41,n.EVENT_DVB_CHANELL_EPG_UPDATE=42,n.EVENT_DVB_ANTENNA_OFF=43,n.setScreen(i(40)[screen.height]);for(s in r)"volumeUp"!==s&&"volumeDown"!==s&&(c[r[s]]=!0);window.addEventListener("load",function(e){n.data.time.load=e.timeStamp,n.events[e.type]&&n.emit(e.type,e),o.pages.forEach(function(t){t.events[e.type]&&t.emit(e.type,e)}),n.data.time.done=+new Date,n.events.done&&n.emit("done",e)}),window.addEventListener("unload",function(e){n.events[e.type]&&n.emit(e.type,e),o.pages.forEach(function(t){t.events[e.type]&&t.emit(e.type,e)})}),window.addEventListener("error",function(e){}),window.addEventListener("keydown",function(e){var t,i=o.current;0!==e.keyCode&&(e.code=e.keyCode,e.shiftKey&&(e.code+=1e3),e.altKey&&(e.code+=2e3),t=i.activeComponent,t&&t!==i&&(t.events[e.type]&&t.emit(e.type,e),!e.stop&&t.propagate&&t.parent&&t.parent.events[e.type]&&t.parent.emit(e.type,e)),e.stop||i.events[e.type]&&i.emit(e.type,e),e.stop||n.events[e.type]&&n.emit(e.type,e),n.data.host&&c[e.code]&&e.preventDefault())}),window.addEventListener("keypress",function(e){var t=o.current;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e)}),window.addEventListener("click",function(e){}),window.addEventListener("contextmenu",function(e){e.preventDefault()}),window.addEventListener("mousewheel",function(e){var t=o.current;t.activeComponent&&t.activeComponent!==t&&t.activeComponent.events[e.type]&&t.activeComponent.emit(e.type,e),e.stop||t.events[e.type]&&t.emit(e.type,e)}),window.stbEvent={},window.stbEvent.onEvent=function(e,t){if(n.events.media){if(t)try{t=JSON.parse(t)}catch(i){}n.emit("media",{code:parseInt(e,10),info:t})}},window.stbEvent.onBroadcastMessage=function(e,t,i){n.events.message&&n.emit("message",{broadcast:!0,windowId:e,message:t,data:i})},window.stbEvent.onMessage=function(e,t,i){n.events.message&&n.emit("message",{broadcast:!1,windowId:e,message:t,data:i})},window.stbEvent.onMount=function(e){n.events["device:mount"]&&n.emit("device:mount",{state:e})},window.stbEvent.onMediaAvailable=function(){n.events["media:available"]&&n.emit("media:available")},window.stbEvent.onNetworkStateChange=function(e){n.events["internet:state"]&&n.emit("internet:state",{state:e})},window.stbEvent.onWebBrowserProgress=function(e){n.events["browser:progress"]&&n.emit("browser:progress",{progress:e})},window.stbEvent.onWindowActivated=function(){n.events["window:focus"]&&n.emit("window:focus")},window.gSTB&&gSTB.SetNativeStringMode&&gSTB.SetNativeStringMode(!0),e.exports=n},function(e,t,i){"use strict";var n,s=i(10);n=new s,n.current=null,n.history=[],n.pages=[],n.ids={},n.init=function(e){var t,i,n;if(e){for(this.pages=[],this.pages=e,t=0,i=e.length;i>t;t++)n=e[t],this.ids[n.id]=n,n.active&&(this.current=n);return this.events.init&&this.emit("init",{pages:e}),!0}return!1},n.parse=function(e){var t={name:"",data:[]};return t.data=e.split("/").map(decodeURIComponent),t.name=t.data.shift().slice(1),t},n.stringify=function(e,t){return t=Array.isArray(t)?t:[],e=encodeURIComponent(e),t=t.map(encodeURIComponent),t.unshift(e),t.join("/")},n.show=function(e,t){return e&&!e.active?(e.$node.classList.add("active"),e.active=!0,this.current=e,e.events.show&&e.emit("show",{page:e,data:t}),!0):!1},n.hide=function(e){return e&&e.active?(e.$node.classList.remove("active"),e.active=!1,this.current=null,e.events.hide&&e.emit("hide",{page:e}),!0):!1},n.navigate=function(e,t){var i=this.current,n=this.ids[e];return n&&!n.active?(location.hash=this.stringify(e,t),this.hide(this.current),this.show(n,t),this.events.navigate&&this.emit("navigate",{from:i,to:n}),this.history.push(n),!0):!1},n.back=function(){var e,t;return this.history.length>1&&(e=this.history.pop(),t=this.history[this.history.length-1],t&&!t.active)?(location.hash=t.id,this.hide(this.current),this.show(t),this.events.navigate&&this.emit("navigate",{from:e,to:t}),!0):!1},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.active=!1,this.activeComponent=null,e.className="page "+(e.className||""),s.call(this,e),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";function n(e,t){c&&r.removeChild(c),c=document.createElement("script"),c.type="text/javascript",c.src=a.api.servicesUrl+"/"+e+"/code/",c.id="pluginScript",c.onload=t,c.onerror=function(){},r.appendChild(c)}var s={array:[],current:{}},a=i(3),o=i(29),r=document.head,c=document.getElementById("pluginScript");s.loadPlugin=function(e,t){var i=this,r=!1;return null===e&&a.singleMode.active===!0?(s.current.plugin=o,void t(i.current)):(i.array.forEach(function(n){n.serviceId===e&&(s.current=n,r=!0,t(i.current))}),void(r||n(e,function(){i.array.push({serviceId:e,plugin:window.plugin}),delete window.plugin,i.current=i.array[i.array.length-1],t(i.current),i.array.length>=6&&i.array.shift()})))},e.exports=s},function(e,t,i){"use strict";function n(e){switch(e.$item.movieObj.type){case T.global.MOVIE:E.play(o.data,e.$item.x)}}var s,a,o,r,c,l="pageVideoList",d=document.getElementById(l),u=i(6),h=new u({$node:d}),p=i(5),m=i(1),v=i(4),f=i(32),g=i(11),y=i(15),w=i(3),b=i(26),T=i(9),E=(i(13),i(21)),S=document.getElementById("pageVideoListBreadCrumb"),I=[];h.addListener("load",function(){a=new g({$node:document.getElementById("pageVideoListHeader")}),r=new g({$node:document.getElementById("pageVideoListContentWrapper")}),h.add(r),r.add(a),s=i(7).current.plugin}),h.initVideoList=function(e,t,i){var s,l=[],d=[];if(w.movieList.perLine=v.data.metrics.movieCount.TYPE_CONTENT,a.$node.classList.add("content"),I.push(t),e===w.dataProviderType.TYPE_SERVICE?(c=b,window.pageVideoList.classList.add("logo"),breadcrumb[breadcrumb.length-1]!==t.item.title&&window.breadcrumb.push(t.item.title||t.item.author)):e===w.dataProviderType.TYPE_SEARCH&&(c=b,window.pageVideoList.classList.add("logo"),a.show(),window.breadcrumb=breadcrumb=[t.item.system.query]),S.innerText=window.breadcrumb.join(" | "),c.state?c.state++:c.state=1,o){try{o.remove()}catch(u){}c.type===w.dataProviderType.TYPE_SERVICE&&window.breadcrumb.splice(1)}c.getFirst(t,function(e,t){for(l[0]=e.slice(0,w.movieList.perLine),s=1;3>s;s++)l[s]=e.slice(w.movieList.perLine*s,w.movieList.perLine*s+w.movieList.perLine);o=new y({focusable:!0,data:l,cycleY:!1,render:function(e,t){e.ready||(e.$box=e.appendChild(document.createElement("div")),e.$box.className="movieItem",e.$img=e.$box.appendChild(document.createElement("div")),e.$img.className="cover",e.$duration=e.$img.appendChild(document.createElement("div")),e.$duration.className="duration",e.$description=e.$box.appendChild(document.createElement("div")),e.$description.className="movieDescription",e.$name=e.$description.appendChild(document.createElement("div")),e.$name.className="name",e.$info=e.$description.appendChild(document.createElement("div")),e.$info.className="info",e.$tag=e.$description.appendChild(document.createElement("div")),e.$tag.className="tag",t.value.invisible&&e.classList.add("invisible"),e.ready=!0),"object"==typeof e.data&&"object"==typeof t&&(t.value.invisible?(e.classList.add("invisible"),e.data.disable=!0):(e.classList.remove("invisible"),e.data.disable=!1)),"object"!=typeof t||t.value.invisible||(e.movieObj=t.value,e.$img.style.backgroundImage="url("+t.value.img+")",e.$name.innerHTML=t.value.title,e.$duration.innerText=t.value.duration,e.$info.innerText=t.value.description,e.$tag.innerText=t.value.tag)},events:{keydown:function(e){switch(e.code){case m.right:case m.left:this.move(e.code);break;case m.ok:void 0!==this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:e})}}}}),l[0][2].disabled&&l[1][2].disabled&&o.renderItem(o.map[1][1],{value:{tag:"",description:"",duration:"",img:"",title:"No videos",invisible:!1},disabled:!1}),o.$node.classList.add("content"),r.add(o),h.videoList=o,o.addListeners({keydown:function(e){switch(e.code){case m.down:this.$focusItem.parentNode.nextSibling.firstChild.data.disable||h.nextData();break;case m.up:h.prevData()}},"click:item":n}),t&&t.length>0&&(t.forEach(function(e){e.value.img&&d.push(e.value.img)}),f.add(d)),i(),o.focus(),o.map[1][2]&&!o.map[1][2].data.disable&&5===w.movieList.perLine?o.focusItem(o.map[1][2]):o.focusItem(o.map[1][0])})},h.nextData=function(){var e,t,i=c.getNext(),n=[];if(null!==i.data){for(o.data[0]=o.data[1],o.data[1]=o.data[2],o.data[2]=i.data,i.data=o.data,e=0;3>e;e++)for(t=0;t<w.movieList.perLine;t++)o.renderItem(o.map[e][t],o.data[e][t]);o.$focusItem.data.disable&&o.focusItem(o.map[1][0]),window.pageVideoList.classList.remove("logo"),a.hide()}return i.next&&(i.next.forEach(function(e){e.value.img&&n.push(e.value.img)}),f.add(n)),i.data},h.prevData=function(){var e,t,i=c.getPrev();if(null!==i.data){for(o.data[2]=o.data[1],o.data[1]=o.data[0],o.data[0]=i.data,i.data=o.data,e=0;3>e;e++)for(t=0;t<w.movieList.perLine;t++)o.renderItem(o.map[e][t],o.data[e][t]);1===c.page&&c.type!==w.dataProviderType.TYPE_SEARCH&&(window.pageVideoList.classList.add("logo"),a.show())}return i.data},h.addListener("show",function(e){1===c.page?(window.pageVideoList.classList.add("logo"),a.show()):(window.pageVideoList.classList.remove("logo"),a.hide()),c.type===w.dataProviderType.TYPE_SEARCH,e.data&&void 0!==e.data.position&&o.focusItem(o.map[1][e.data.position])}),h.addListener("hide",function(){window.pageVideoList.classList.remove("logo"),a.hide()}),h.addListener("keydown",function(e){switch(e.code){case m.back:I=[],p.back();break;case m.exit:window.parent!==window?v.exit():p.navigate("pageService")}}),e.exports=h},function(e,t){"use strict";e.exports={global:{ROOT:1,CATEGORY:2,FOLDER:3,MOVIE:4,FILE:5},plugin:{ROOT:1,CHANNEL:2,CHANNEL_LIST:3,BACK:4,SEARCH:5,VIDEO:6,LIVE:7}}},function(e,t,i){"use strict";function n(){this.events={}}n.prototype={addListener:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)},once:function(e,t){var i=this;this.events[e]=this.events[e]||[],this.events[e].push(function n(s){t(s),i.removeListener(e,n)})},addListeners:function(e){var t;if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&this.addListener(t,e[t])},removeListener:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}),0===this.events[e].length&&(this.events[e]=void 0))},removeAllListeners:function(e){0===arguments.length?this.events={}:e&&(this.events[e]=void 0)},emit:function(e,t){var i,n=this.events[e];if(n)for(i=0;i<n.length;i++)n[i].call(this,t)}},n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},e.focusable=e.focusable||!1,e.className="panel "+(e.className||""),s.call(this,e)}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";var n,s={profile:{},playback:{},token:void 0,favorite:{data:[]}},a="http://api.freemultiplex.com/v1/",o=i(3),r=i(22);s.authorize=function(e){var t=gSTB.LoadUserData(o.userDataFileName);""===t?r.ajax(a+"session",{onload:function(t){var i=JSON.parse(t);200===i.code?(s.token=i.data.sid,o.userConfig.multiplexToken=s.token,gSTB.SaveUserData(o.userDataFileName,JSON.stringify(o.userConfig)),e(),s.isAuthorize=!0,s.profile.save({playNext:!0,buffer:5})):(s.isAuthorize=!1,e())},onerror:function(){e()},timeout:6e3}):(s.token=JSON.parse(t).multiplexToken,s.profile.load(function(){e(),s.isAuthorize=!0}))},s.profile.load=function(e){var t;n=i(20),r.ajax(a+"profile",{onload:function(i){var s;if(t=JSON.parse(i),null===i.info)return void(e&&e());if(200===t.code){if(t.data&&t.data.info?(o.playNext=t.data.info.playNext||!0,o.bufferSize=t.data.info.buffer||5,o.appRating=t.data.info.appRating||5):(o.playNext=!0,o.bufferSize=5,o.appRating=5),t.data.info.volume){o.volume=t.data.info.volume;try{n.setValue(o.volume)}catch(a){}}s=Math.floor(768*o.bufferSize*1e3),gSTB.SetBufferSize(1e3*o.bufferSize,s)}e&&e(i)},onerror:function(){e&&e()},method:"GET",headers:{Authorization:s.token},timeout:6e3})},s.profile.save=function(e,t){void 0===e&&(e={volume:o.volume}),r.ajax(a+"profile",{onload:function(e){t&&t()},timeout:6e3,method:"PUT",data:e,headers:{"Content-Type":"application/json",Authorization:s.token}})},s.playback.send=function(e){s.isAuthorize&&r.ajax(a+"history/playback",{method:"POST",timeout:6e3,data:e,headers:{"Content-Type":"application/json",Authorization:s.token},onload:function(e){200===JSON.parse(e).code}})},s.playback.load=function(e){s.isAuthorize&&r.ajax(a+"history/playback",{method:"GET",headers:{Authorization:s.token},timeout:6e3,onload:function(t){var i=JSON.parse(t);200!==i.code||e(i.data)},onerror:function(){}})},s.favorite.send=function(e,t){s.isAuthorize&&r.ajax(a+"favorites/media",{method:"POST",data:e,timeout:6e3,headers:{"Content-Type":"application/json",Authorization:s.token},onload:function(e){200===JSON.parse(e).code,t()},onerror:function(){t()}})},s.favorite.load=function(e,t){s.isAuthorize&&r.ajax(a+"favorites/media?info.categoryId="+e,{method:"GET",headers:{Authorization:s.token},timeout:6e3,onload:function(e){var i=JSON.parse(e);200!==i.code||t(i.data)}})},s.favorite.checkState=function(e,t){return s.isAuthorize?void r.ajax(a+"favorites/media?info.id="+e,{method:"GET",headers:{Authorization:s.token},timeout:6e3,onload:function(e){var i=JSON.parse(e);200!==i.code?t(null):0!==i.data.length?t(!0,i.data[0].id):t(!1)},onerror:function(){t(null)}}):void t(null)},s.favorite.deleteItem=function(e,t){return s.isAuthorize?void r.ajax(a+"favorites/media/"+e,{method:"DELETE",headers:{Authorization:s.token},timeout:6e3,onload:function(e){var i=JSON.parse(e);t(200===i.code)},onerror:function(){t(!1)}}):void t(!1)},e.exports=s},function(e,t,i){"use strict";var n,s,a="pageSearch",o=document.getElementById(a),r=i(6),c=new r({$node:o}),l=i(5),d=i(1),u=i(19),h=i(17),p=i(18),m=i(15),v=i(14),f=i(23),g=i(11),y=new f({visible:!1,events:{show:function(){y.okBtn.focus()},hide:function(){s.focus()}}}),w=document.getElementById("pageSearchStory"),b=document.createElement("span");c.addListener("load",function(){w.innerText="Search history ",b.classList.add("searchType"),w.appendChild(b),s=new v({$node:document.getElementById("pageSearchStoryClear"),value:"Clear history"}),c.add(s),s.addListener("keydown",function(e){switch(e.code){case d.up:h.input.focus();break;case d.down:n?n.focus():p.keys.focus()}}),s.addListener("click",function(){y.show()}),h.input.addListener("keydown",function(e){e.code===d.down&&"pageSearch"===l.current.id?s.focus():e.code===d.back&&0===this.value.length&&(p.hide(),h.hide(),l.navigate("pageService"))}),c.add(y),y.add(y.title=new g),y.title.$body.innerText="Clear search history ?",y.add(y.okBtn=new v({value:"Clear",events:{keydown:function(e){switch(v.prototype.defaultEvents.keydown.call(this,e),e.code){case d.right:y.cancelBtn.focus();break;case d.back:case d.exit:y.hide(),e.stop=!0}},click:function(){u.clearStorage(function(e){e?c.initSearch(c.lastSearchData,function(){s.focus(),y.hide()}):y.hide()})}}})),y.add(y.cancelBtn=new v({value:"Cancel",events:{keydown:function(e){switch(v.prototype.defaultEvents.keydown.call(this,e),e.code){case d.left:y.okBtn.focus();break;case d.back:case d.exit:y.hide(),e.stop=!0}},click:function(){y.hide()}}}))}),c.addListener("show",function(){c.add(p),c.add(h),h.show(),p.show(),p.showBg(0),p.keys.focus(),p.keys.focusItem(p.keys.map[2][5]),p.overflowTop(function(){n?n.focus():s.focus()}),p.button.addListener("keydown",function(e){e.code===d.up&&("pageSearch"===l.current.id?n?(n.focus(),n.focusItem(n.map[4][1])):s.focus():"pageVideoList"===l.current.id&&h.input.focus())})}),c.addListener("keydown",function(e){switch(e.code){case d.back:case d.exit:p.hide(),h.hide(),l.navigate("pageService")}}),c.initSearch=function(e,t){this.lastSearchData=e,p.searchObj=e,u.getData(function(e){var t=e;if(null!==t){if(n)try{n.remove(),n=null}catch(i){}n=new m({data:t,cycleY:!1,render:function(e,t){var i=document.createElement("span");i.innerText=t.value,e.appendChild(i)}}),c.add(n),n.addListener("overflow",function(e){switch(e.direction){case d.up:s.focus();break;case d.down:p.keys.focus()}}),n.addListener("click:item",function(e){h.setValue(e.$item.data.value),p.button.focus()})}else if(n)try{n.remove(),n=null}catch(i){}}),t()},e.exports=c},function(e,t,i){"use strict";function n(e){e=e||{},e.className="button "+(e.className||""),s.call(this,e),e.icon&&(this.$icon=this.$body.appendChild(document.createElement("div")),this.$icon.className="icon "+e.icon),this.$text=this.$body.appendChild(document.createElement("div")),this.$text.classList.add("text"),e.value&&(this.$text.innerText=e.value)}var s=i(2),a=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.clickDuration=200,n.prototype.defaultEvents={click:function(){var e=this;this.$node.classList.add("click"),setTimeout(function(){e.$node.classList.remove("click")},this.clickDuration)},keydown:function(e){e.code===a.ok&&this.events.click&&this.emit("click",{event:e})}},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.map=[],this.$focusItem=null,this.data=[],this.cycleX=!0,this.cycleY=!0,this.focusX=0,this.focusY=0,e.className="grid "+(e.className||""),r.call(this,e),this.init(e)}function s(e){var t,i,n;for(t=0;t<e.length;t++)for(i=0;i<e[t].length;i++)n=e[t][i],"object"!=typeof n?n=e[t][i]={value:e[t][i],colSpan:1,rowSpan:1}:(n.colSpan=n.colSpan||1,n.rowSpan=n.rowSpan||1);return e}function a(e,t,i,n,s,a){var o,r;for(o=i;i+s>o;o++){for(e.length<o+1&&e.push([]);void 0!==e[o][t];)t++;for(r=t;t+n>r;r++)e[o].length<r+1&&e[o].push(),e[o][r]=a,void 0===a.x&&(a.x=r),void 0===a.y&&(a.y=o)}}function o(e){var t,i,n,s=[];for(t=0;t<e.length;t++)for(i=0;i<e[t].length;i++)n=e[t][i],a(s,i,t,n.colSpan,n.rowSpan,n.$item),delete n.$item;return s}var r=i(2),c=i(1);n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.renderItemDefault=function(e,t){e.innerText=t.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.defaultEvents={mousewheel:function(e){e.wheelDeltaY&&this.move(e.wheelDeltaY>0?c.up:c.down),e.wheelDeltaX&&this.move(e.wheelDeltaX>0?c.left:c.right)},keydown:function(e){switch(e.code){case c.up:case c.down:case c.right:case c.left:this.move(e.code);break;case c.ok:this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:e})}}},n.prototype.init=function(e){var t,i,n,a,r,c,l,d=this,u=!1,h=function(e){this.data.disable!==!0&&(d.focusItem(this),d.events["click:item"]&&d.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycleX&&(this.cycleX=e.cycleX),void 0!==e.cycleY&&(this.cycleY=e.cycleY),e.data&&this.data!==e.data&&(this.data=e.data,u=!0),e.render&&this.renderItem!==e.render&&(this.renderItem=e.render,u=!0),u){for(this.$table=document.createElement("table"),r=document.createElement("tbody"),this.data=s(this.data),t=0;t<this.data.length;t++){for(n=r.insertRow(),i=0;i<this.data[t].length;i++)a=n.insertCell(-1),a.className="item",l=this.data[t][i],l.$item=a,a.colSpan=l.colSpan,a.rowSpan=l.rowSpan,l.focus&&(c=a),l.disable&&a.classList.add("disable"),l.mark&&a.classList.add("mark"),this.renderItem(a,l),a.data=l,a.addEventListener("click",h);r.appendChild(n)}this.map=o(this.data),this.$body.innerText=null,this.$table.appendChild(r),this.$body.appendChild(this.$table),c?this.focusItem(c):this.focusItem(this.map[0][0])}},n.prototype.move=function(e){for(var t=this.focusX,i=this.focusY,n=!0,s=!1,a=!1;n;){switch(e){case c.up:i>0?i--:this.cycleY?(i=this.map.length-1,a=!0):s=!0;break;case c.down:i<this.map.length-1?i++:this.cycleY?(i=0,a=!0):s=!0;break;case c.right:t<this.map[i].length-1?t++:this.cycleX?(t=0,a=!0):s=!0;break;case c.left:t>0?t--:this.cycleX?(t=this.map[i].length-1,a=!0):s=!0}t===this.focusX&&i===this.focusY&&(n=!1),this.map[i][t]!==this.map[this.focusY][this.focusX]&&this.map[i][t].data.disable!==!0&&(n=!1),s&&(n=!1,this.map[i][t].data.disable===!0&&(t=this.focusX,i=this.focusY))}a&&this.events.cycle&&this.emit("cycle",{direction:e}),s&&this.events.overflow&&this.emit("overflow",{direction:e}),this.focusItem(this.map[i][t]),this.focusX=t,this.focusY=i},n.prototype.focusItem=function(e){var t=this.$focusItem;return e&&t!==e&&e.data.disable!==!0?(null!==t&&(t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.focusX=e.x,this.focusY=e.y,this.$focusItem=e,e.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),!0):!1},n.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},e.focusable=e.focusable||!1,e.visible=e.visible||!1,e.className="widget "+(e.className||""),s.call(this,e)}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";var n="inputWidgetWrapper",s=document.getElementById(n),a=i(16),o=new a({$node:s,visible:!1,focusable:!0}),r=i(1),c=i(36),l=new c({$node:document.getElementById("inputWidget")});o.add(l),o.$node.classList.remove("invisible"),o.addChar=function(e){l.addChar(e)},o.removeChar=function(){l.removeChar()},o.getValue=function(){return l.value},o.setValue=function(e){l.setValue(e),setTimeout(function(){l.setValue(e)},0)},o.delChar=function(){l.removeChar(l.value.length-1)},o.input=l,l.addListener("keydown",function(e){var t;e.code===r.ok&&l.value.length>0?(t=i(18),t.button.focus()):e.code===r.back&&(e.stop=!0)}),o.overflowBot=function(e){l.addListener("keydown",function(t){t.code===r.down&&e()})},e.exports=o},function(e,t,i){"use strict";var n,s="keyboardWidgetWrapper",a=document.getElementById(s),o=i(16),r=new o({$node:a,visible:!1,focusable:!0}),c=i(1),l=i(4),d=i(5),u=i(15),h=i(14),p=i(3),m=i(39),v=i(17),f=i(19),g=i(9),y=new u({$node:document.getElementById("keyboardWidget"),data:m.en,cycleY:!1,cycleX:!1,render:function(e,t){var i,n=document.createElement("div");n.classList.add("keyboardButton"),t.id&&(e.id=t.id),n.innerText=t.value,e.appendChild(n),t.img&&(i=document.createElement("img"),i.src="./img/"+l.data.metrics.height+"/"+t.img+".png",n.appendChild(i))}}),w=new h({$node:document.getElementById("keyboardWidgetSearchBtn"),value:"Search"});r.$node.classList.remove("invisible"),r.add(y),r.add(w),r.isUpper=!1,r.lang="en",y.addListener("click:item",function(e){if(v.visible)if(e.$item.data.id)switch(e.$item.data.id){case"keyUp":r.upper();break;case"keyBackspace":v.delChar();break;case"keySpace":v.addChar(" ");break;case"keyLeft":v.input.emit("keydown",{code:c.left});break;case"keyRight":v.input.emit("keydown",{code:c.right});break;case"keyLang":r.changeLang()}else r.isUpper?v.addChar(e.$item.data.value.toString().toUpperCase()):v.addChar(e.$item.data.value.toString())}),y.addListener("keydown",function(e){switch(e.code){case 112:e.stop=!0,v.delChar();break;case 115:w.emit("click",{});break;case 114:break;case 113:v.addChar(" ")}}),w.addListener("keydown",function(e){switch(e.code){case c.left:y.focus()}}),w.addListener("click",function(){n=i(8),v.visible&&v.getValue().length>0&&n.initVideoList(p.dataProviderType.TYPE_SEARCH,{item:{system:{query:v.getValue(),type:g.plugin.SEARCH}}},function(){r.hide(),v.hide(),w.blur(),d.navigate("pageVideoList"),f.add(v.getValue())})}),r.upper=function(){this.isUpper?this.$node.classList.remove("upperCase"):this.$node.classList.add("upperCase"),this.isUpper=!this.isUpper},r.overflowTop=function(e){var t=d.current.id;y.events.overflow=[],y.addListener("overflow",function(i){switch(i.direction){case c.up:d.current.id===t&&e();break;case c.right:w.focus()}})},r.changeLang=function(){"ru"===r.lang?(y.init({data:m.en}),r.lang="en"):(y.init({data:m.ru}),r.lang="ru"),y.focusItem(y.map[2][5])},r.showBg=function(e){e?r.$node.classList.add("background"):r.$node.classList.remove("background")},r.button=w,r.keys=y,e.exports=r},function(e,t,i){"use strict";var n={},s=[],a=(i(3),i(12)),o=i(22);n.getData=function(e){var t,i,n=[];s=[],a.isAuthorize?o.ajax("http://api.freemultiplex.com/v1/history/search",{method:"GET",headers:{Authorization:a.token},timeout:6e3,onload:function(a){var o,r=JSON.parse(a).data;if(r.forEach(function(e){s.push(e.info)}),s.length>0){for(s.length%2!==0&&s.push({value:"",disable:!0}),i=s.length/2,n[0]=[],n[0].push(s[0]),n[0].push(s[i]),t=1;i>t;t++)n[t]=[],n[t].push(s[t]),o=t+parseFloat(i),n[t].push(s[o]);e(n)}else e(null)}}):e(null)},n.clearStorage=function(e){s=[],o.ajax("http://api.freemultiplex.com/v1/history/search",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:a.token},timeout:6e3,onload:function(t){var i=JSON.parse(t);e(200===i.code)},onerror:function(){e(!1)}})},n.removeLast=function(){s.pop()},n.add=function(e){s.length&&s.filter(function(t){return t.value===e}).length>0||(s.pop(),s.unshift({value:e}),e&&o.ajax("http://api.freemultiplex.com/v1/history/search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a.token},data:{value:e},timeout:6e3,onload:function(){}}))},e.exports=n},function(e,t,i){"use strict";function n(){d.isMuted&&(gSTB.SetMute(0),d.isMuted=!1,v.classList.remove("muted")),m>=y&&(m-=y,v.innerText=m.toString(),0!==m&&m-y>0?f.innerText=(m-y).toString():f.innerText="",g.innerText=(m+y).toString(),gSTB.SetVolume(m))}function s(){d.isMuted&&(gSTB.SetMute(0),d.isMuted=!1,v.classList.remove("muted")),100>=m+y&&(m+=y,v.innerText=m.toString(),100!==m?g.innerText=(m+y).toString():g.innerText="",gSTB.SetVolume(m),f.innerText=(m-y).toString())}function a(){d.isMuted?(gSTB.SetMute(0),d.isMuted=!1,v.classList.remove("muted")):(gSTB.SetMute(1),d.isMuted=!0,v.classList.add("muted"))}var o,r="volumeWidget",c=document.getElementById(r),l=i(16),d=new l({$node:c,visible:!1,focusable:!0}),u=i(1),h=i(3),p=i(12),m=h.volume,v=document.getElementById("volumeCurrentValue"),f=document.getElementById("volumeBotValue"),g=document.getElementById("volumeTopValue"),y=10;gSTB.SetVolume(m),v.innerText=m.toString(),100-y>=m&&(g.innerText=(m+y).toString()),m>=y?f.innerText=(m-y).toString():f.innerText="0",d.isMuted=Boolean(gSTB.GetMute()),d.$node.classList.remove("invisible"),d.changeVolume=function(e){switch(e){case u.volumeDown:n();break;case u.volumeUp:s();break;case u.mute:a()}this.display(2),h.volume=m,p.profile.save()},d.display=function(e){d.visible&&clearTimeout(o),void 0!==e&&(o=setTimeout(function(){d.hide()},1e3*e)),this.show()},d.setValue=function(e){0>e||e>100||(m=e,v.innerText=m.toString(),0!==m&&m-y>0?f.innerText=(m-y).toString():f.innerText="",100!==m?g.innerText=(m+y).toString():g.innerText="")},e.exports=d},function(e,t,i){"use strict";function n(){var e;d.hide(),E.current<i(4).data.metrics.movieCount.TYPE_CONTENT-1?(E.current++,E.list[1][E.current].disabled?h.back():e=E.list[1][E.current].value):(E.list=r.nextData(),E.current=0,E.list[1][E.current].disabled?h.back():e=E.list[1][E.current].value),
T.set(0),window.playerTitle.innerHTML=e.title,window.playerTotalDuration.innerText="00:00",window.playerCurrentDuration.innerText="00:00",x.date.innerText=e.tag,window.playerPlays.innerHTML=e.info,o.getCursor({item:e},function(e,t){o.getNext(t,function(e,t){return 0===t.length?void n():(E.currentMedia=t,void(t[1080]&&y.singleMode.hd?(S=0,l.play(t[1080].url),window.playerHD.innerText="1080 HD"):t[720]&&y.singleMode.hd?(S=1,l.play(t[720].url),window.playerHD.innerText="720 HD"):t[480]?(S=2,l.play(t[480].url),window.playerHD.innerText="480"):t[360]?(S=3,l.play(t[360].url),window.playerHD.innerText="360"):(S=4,l.play(t[240].url),window.playerHD.innerText="240")))})}),E.current<E.list[1].length-1?d.text.innerHTML=E.list[1][E.current+1].value.title:d.text.innerHTML=E.list[2][0].value.title}function s(){var e;d.hide(),E.current>0?(E.current--,E.list[1][E.current].disabled?h.back():e=E.list[1][E.current].value):(E.list=r.prevData(),E.current=i(4).data.metrics.movieCount.TYPE_CONTENT,E.list[1][E.current].disabled?h.back():e=E.list[1][E.current].value),T.set(0),window.playerTitle.innerHTML=e.title,window.playerTotalDuration.innerText="00:00",window.playerCurrentDuration.innerText="00:00",x.date.innerText=e.tag,window.playerPlays.innerHTML=e.info,o.getCursor({item:e},function(e,t){o.getNext(t,function(e,t){return 0===t.length?void s():(E.currentMedia=t,void(t[1080]&&y.singleMode.hd?(S=0,l.play(t[1080].url),window.playerHD.innerText="1080 HD"):t[720]&&y.singleMode.hd?(S=1,l.play(t[720].url),window.playerHD.innerText="720 HD"):t[480]?(S=2,l.play(t[480].url),window.playerHD.innerText="480"):t[360]?(S=3,l.play(t[360].url),window.playerHD.innerText="360"):(S=4,l.play(t[240].url),window.playerHD.innerText="240")))})}),E.current<E.list[1].length-1?d.text.innerHTML=E.list[1][E.current+1].value.title:d.text.innerHTML=E.list[2][0].value.title}function a(){var e=E.currentMedia;return++S,S>4&&(S=0),0===S&&e[1080]?(y.singleMode.hd=!0,l.isPause||l.play(e[1080].url,{position:l.currentSec}),window.playerHD.innerText="1080 HD"):1===S&&e[720]?(y.singleMode.hd=!0,l.isPause||l.play(e[720].url,{position:l.currentSec}),window.playerHD.innerText="720 HD"):2===S&&e[480]?(y.singleMode.hd=!1,l.isPause||l.play(e[480].url,{position:l.currentSec}),window.playerHD.innerText="480"):3===S&&e[360]?(y.singleMode.hd=!1,l.isPause||l.play(e[360].url,{position:l.currentSec}),window.playerHD.innerText="360"):4===S&&e[240]&&(y.singleMode.hd=!1,l.isPause||l.play(e[240].url,{position:l.currentSec}),window.playerHD.innerText="240"),b=!0,y.singleMode.hd}var o,r,c,l,d,u=new(i(6))({$node:window.pagePlayer}),h=i(5),p=i(1),m=i(4),v=i(24),f=i(31),g=i(38),y=i(3),w=i(7),b=!1,T=new g({$node:window.playerProgressBar}),E={current:0,list:[],currentMedia:{}},S=0,I={aspects:{fit:"Оригинальный",big:"Увеличенный",opt:"Оптимальный",exp:"Растянутый"}},x={author:window.playerAuthor,likes:window.playerLikes,plays:window.playerPlays,comments:window.playerComments,date:window.playerDate};u.play=function(e,t){var i;E.list=e,E.current=t,o=w.current.plugin,i=E.list[1][E.current].value,T.set(0),window.playerTitle.innerHTML=i.title,window.playerTotalDuration.innerText="00:00",window.playerCurrentDuration.innerText="00:00",x.date.innerText=i.tag,window.playerPlays.innerHTML=i.info,window.playerButtonPlay.className="icon-pause2",o.getCursor({item:i},function(e,t){o.getNext(t,function(e,t){if(!e){if(h.navigate("pagePlayer"),"{}"===JSON.stringify(i))return void n();E.currentMedia=t,t[1080]&&y.singleMode.hd?(S=0,l.play(t[1080].url),window.playerHD.innerText="1080 HD"):t[720]&&y.singleMode.hd?(S=1,l.play(t[720].url),window.playerHD.innerText="720 HD"):t[480]?(S=2,l.play(t[480].url),window.playerHD.innerText="480"):t[360]?(S=3,l.play(t[360].url),window.playerHD.innerText="360"):(S=4,l.play(t[240].url),window.playerHD.innerText="240")}})}),E.current<E.list[1].length-1?d.text.innerHTML=E.list[1][E.current+1].value.title:d.text.innerHTML=E.list[2][0].value.title},u.addListener("load",function(){m.player=l=new f({$node:document.getElementById("vimeoPlayer"),rewindTimeout:600,events:{keydown:function(e){switch(e.code){case p.info:return void c.display();case p.ok:case p.playPause:this.isPause&&b?(E.currentMedia[1080]&&0===S?(S=0,l.play(E.currentMedia[1080].url),window.playerHD.innerText="1080 HD"):E.currentMedia[720]&&1===S?l.play(E.currentMedia[720].url,{position:gSTB.GetPosTime()}):E.currentMedia[480]&&2===S?l.play(E.currentMedia[480].url,{position:gSTB.GetPosTime()}):E.currentMedia[360]&&3===S?l.play(E.currentMedia[360].url,{position:gSTB.GetPosTime()}):l.play(E.currentMedia[240].url,{position:gSTB.GetPosTime()}),this.isPause=!1):this.playPause();break;case p.stop:this.stop();break;case p.forward:case p.right:this.rewind(!0);break;case p.rewind:case p.left:this.rewind(!1);break;case p.f3:a();break;case p.f4:case 117:this.nextAspect();break;case p.pageDown:n();break;case p.pageUp:s()}c.display(5)}}}),c=new v({$node:document.getElementById("playerPanel")}),u.add(l),l.add(c),window.playerAspect.innerText="Aspect:Original",d=new v({$node:document.getElementById("playerNextMedia"),visible:!1}),d.text=document.createElement("div"),d.$body.appendChild(d.text),l.addListeners({duration:function(e){this.rewindHelper.isActive||this.setModeHelper.active||b||(T.set(e.sec),window.playerCurrentDuration.innerText=e.time,l.totalDurationSec-e.sec<6&&l.totalDurationSec>0?d.show():d.hide())},"get:info":function(e){window.playerTotalDuration.innerText=e.totalDuration,T.init({value:0,max:e.totalDurationSec}),c.display(5)},rewind:function(e){var t=l.parseTime(e.time),i="";T.set(e.time),+t.hour&&(i+=t.hour+":"),i+=t.min+":"+t.sec,window.playerCurrentDuration.innerText=i},"aspect:change":function(e){window.playerAspect.innerText="Aspect:"+I.aspects[e.name]},"content:end":function(){b=!1,n()},"content:error":function(){b=!1,n()},pause:function(e){e.state?window.playerButtonPlay.className="icon-play3":window.playerButtonPlay.className="icon-pause2"}}),r=i(8),m.addListener("media",function(e){e.code===m.EVENT_PLAYBACK_BEGIN&&(l.isPause=!1,window.playerButtonPlay.className="icon-pause2",b=!1)})}),u.addListener("show",function(){l.focus()}),u.addListener("keydown",function(e){switch(e.code){case p.back:l.stop(),h.back();break;case p.stop:l.stop(),h.navigate("pageVideoList",{position:E.current});break;case p.exit:window.parent!==window?m.exit():(l.stop(),h.navigate("pageService"))}}),u.addListener("hide",function(){d.hide()}),e.exports=u},function(e,t,i){"use strict";var n={},s={method:"GET",async:!0,headers:{},type:"text",data:null,timeout:3e4,onload:null,onerror:null,ontimeout:null},a=Object.keys(s);n.ajax=function(e,t){var i,n,o;if(t=t||{},e&&("string"==typeof e||e instanceof String)&&e.length>0){if(t&&"object"==typeof t)for(i=0;i<a.length;i++)void 0===t[a[i]]&&(t[a[i]]=s[a[i]]);if(o=new XMLHttpRequest,o.open(t.method,e,t.async),t.headers&&"object"==typeof t.headers)for(n=Object.keys(t.headers),i=0;i<n.length;i++)o.setRequestHeader(n[i],t.headers[n[i]]);return o.responseType=t.type,o.timeout=t.timeout,t.onload&&"function"==typeof t.onload&&(o.onload=function(){t.onload.call(this,this.response||this.responseText,this.status)}),o.onerror=t.onerror,o.ontimeout=t.ontimeout,o.send(t.data?JSON.stringify(t.data):null),o}return!1},n.encode=function(e){var t,i,n=[];if(e&&"object"==typeof e){for(i=Object.keys(e),t=0;t<i.length;t++)n.push(encodeURIComponent(i[t])+"="+encodeURIComponent(e[i[t]]));if(n.length>0)return n.join("&")}return null},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},s.call(this,e),this.$node===this.$body&&(this.$body=document.createElement("div"),this.$body.className="body",this.$wrapper=document.createElement("div"),this.$wrapper.className="wrapper",this.$wrapper.appendChild(this.$body),this.$node.appendChild(document.createElement("div").appendChild(this.$wrapper).parentNode)),this.$node.classList.add("modalBox"),this.$node.classList.add("multiplexModalBox")}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},s.call(this,e),this.displayTimeout=0,this.attach=!1,this.$node.classList.add("playerPanel")}var s=i(11);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.display=function(e){var t=this;if(e){if(this.attach)return;e=1e3*e,this.show(),this.displayTimeout&&(clearTimeout(this.displayTimeout),this.displayTimeout=0),this.displayTimeout=setTimeout(function(){t.hide(),t.displayTimeout=0},e)}else this.displayTimeout?(clearTimeout(this.displayTimeout),this.displayTimeout=0,this.hide()):(this.attach?this.hide():this.show(),this.attach=!this.attach)},e.exports=n},function(e,t){"use strict";function i(){this.type=null,this.page=1,this.cache={data:[],head:null,tail:null}}i.prototype.getFirst=function(){},i.prototype.getNext=function(){},i.prototype.getPrev=function(){},e.exports=i},function(e,t,i){"use strict";var n,s,a,o,r,c,l=i(25),d=new l,u=i(3),h=i(7),p=30,m=40;d.getFirst=function(e,t){var i=this,l=[];for(n=u.movieList.perLine,this.page=1,this.type=u.dataProviderType.TYPE_SERVICE,this.cache.tail=0,this.cache.head=0,this.cache.data=[],s=h.current.plugin,r=0,this.cache.botEmptyLine=!1,c=0;n>c;c++)i.cache.data.push({value:{date:"",img:"",title:"",url:"",invisible:!0},disabled:!0});this.cache.topEmptyLine=!0,e.searchText&&(this.type=u.dataProviderType.TYPE_SEARCH),s.getCursor(e,function(r,c){a=c,s.getCursor(e,function(e,t){e&&gSTB.Debug("Error getCursor: "+JSON.stringify(e)),o=t}),s.getNext(a,function(e,s){e||(s.forEach(function(e){i.cache.data.push({value:e})}),i.cache.data.length>=3*n?(l=i.cache.data.slice(0,3*n),i.cache.head=3*n,t(l,i.cache.data.slice(3*n,5*n)),i.cache.checkNext()):i.cache.checkNext(function(){l=i.cache.data.slice(0,3*n),i.cache.head=3*n,t(l,i.cache.data.slice(3*n,5*n))}))})})},d.cache.checkNext=function(e){var t=this,i=d.state;t.botEmptyLine||(this.data.length<this.head+p&&s.getNext(a,function(s,a){if(s)gSTB.Debug("Error: "+JSON.stringify(s));else if(a.length>0){if(d.state&&i!==d.state)return!1;a.forEach(function(e){t.data.push({value:e})}),t.data.length>=3*n&&e?e():t.checkNext(e)}else{for(c=0;c<t.data.length%n;c++)t.data.push({value:{date:"",img:"",title:"",url:"",invisible:!0},disabled:!0}),r++;for(c=0;n>c;c++)t.data.push({value:{date:"",img:"",title:"",url:"",invisible:!0},disabled:!0});r+=n,t.botEmptyLine=!0,e&&e()}}),t.tail>=m+3*n&&s.getNext(o,function(e,i){var s,a;if(e)gSTB.Debug("Error getCursor: "+JSON.stringify(e));else{for(a=i.length,t.topEmptyLine&&(a+=n,t.topEmptyLine=!1),s=0;a>s;s++)t.data.shift();t.head-=a,t.tail-=a}}))},d.cache.checkPrev=function(){var e=this;this.topEmptyLine||(this.tail<m-3*n&&s.getPrev(o,function(t,i){if(t)gSTB.Debug("Error getCursor: "+JSON.stringify(t));else if(i.length>0){for(c=i.length-1;c>=0;c--)e.data.unshift({value:i[c]});e.head+=i.length,e.tail+=i.length}else if(!e.topEmptyLine){for(c=0;n>c;c++)e.data.unshift({value:{date:"",img:"",title:"",url:"",invisible:!0},disabled:!0});e.head+=n,e.tail+=n,e.topEmptyLine=!0}}),e.data.length-e.head>p&&s.getPrev(a,function(t,i){var n;t&&gSTB.Debug("Error getCursor: "+JSON.stringify(t)),n=i.length,e.botEmptyLine&&(n+=r,e.botEmptyLine=!1),e.data.splice(e.data.length-n,n)}))},d.getNext=function(){var e=[],t=[];if(this.cache.head+n<=this.cache.data.length)e=this.cache.data.slice(this.cache.head,this.cache.head+n),this.cache.head+=n,this.cache.tail+=n,this.cache.head+3*n<=this.cache.data.length&&(t=this.cache.data.slice(this.cache.head+2*n,this.cache.head+3*n)),this.page++,this.cache.checkNext();else if(1===this.page&&this.cache.data.length%n!==0){for(c=0;c<this.cache.data.length%n+n;c++)this.cache.data.push({value:{date:"",img:"",title:"",url:"",invisible:!0},disabled:!0}),r++;this.cache.botEmptyLine=!0,e=this.cache.data.slice(this.cache.head,this.cache.head+n),this.cache.head+=n,this.cache.tail+=n,this.page++,this.cache.checkNext()}else e=null;return{data:e,next:t}},d.getPrev=function(){var e=[],t=[];return this.cache.tail-n>=0?(e=this.cache.data.slice(this.cache.tail-n,this.cache.tail),this.cache.head-=n,this.cache.tail-=n,this.cache.tail-2*n>=0&&(t=this.cache.data.slice(this.cache.tail-2*n,this.cache.tail-n)),this.page--,this.cache.checkPrev()):e=null,{data:e,next:t}},e.exports=d},function(e,t,i){"use strict";var n="pageInit",s=i(6),a=new s({$node:document.getElementById(n)}),o=i(5);a.route=function(){o.navigate("pageService")},e.exports=a},function(e,t,i){"use strict";function n(e){switch(e.$item.data.value.type){case C.global.CATEGORY:S.initVideoList(T.dataProviderType.TYPE_SERVICE,{item:e.$item.data.value},function(){m.navigate("pageVideoList")});break;case C.global.FOLDER:s(e.$item.data.value);break;case C.plugin.BACK:a();break;case C.plugin.SEARCH:I.initSearch(e.$item.data.value,function(){m.navigate("pageSearch")})}}function s(e){k.push(e),L.getCursor({item:e},function(e,t){L.getNext(t,function(e,t){var i=[];0!==t.length&&(i.push($.back),t.forEach(function(e){i.push({value:e})}),c.viewIndex=-1,c.init({data:i,size:i.length}),c.$body.children[1]?c.focusItem(c.$body.children[1]):c.focusItem(c.$body.children[0]))})})}function a(){1===k.length?(l=m.current.activeComponent,x.show()):2===k.length?p.initService(null,function(){c.focus()}):(k.pop(),L.getCursor({item:k[k.length-1]},function(e,t){var i=[];L.getNext(t,function(e,t){0!==k.length&&i.push($.back),t.forEach(function(e){i.push({value:e})}),c.viewIndex=-1,c.init({data:i,size:i.length}),c.focusItem(c.$body.children[0])})}))}var o,r,c,l,d="pageService",u=document.getElementById(d),h=i(6),p=new h({$node:u}),m=i(5),v=i(1),f=i(11),g=i(37),y=i(23),w=i(14),b=i(4),T=i(3),E=i(7),S=i(8),I=i(13),x=new y({visible:!1,events:{show:function(){x.okBtn.focus()},hide:function(){l.focus()}}}),L={},k=[],C=i(9),$={back:{value:{title:"Back",specialClass:"backItem",type:C.plugin.BACK}},searchArr:[]},D=[];p.addListener("load",function(){o=new f({focusable:!1,$node:document.getElementById("pageServiceWrapper")}),p.add(o),r=new f({$node:document.getElementById("pageServiceRightPanel")}),o.add(r),p.initService(null,function(){}),p.add(x),x.add(x.title=new f),x.title.$body.innerText="Exit from the app?",x.add(x.okBtn=new w({value:"Exit",events:{keydown:function(e){switch(e.code){case v.ok:this.emit("click");break;case v.right:x.cancelBtn.focus();break;case v.back:case v.exit:x.hide(),e.stop=!0}},click:function(){window.location.href=i(42)()||"file:///home/web/services.html"}}})),x.add(x.cancelBtn=new w({value:"Cancel",events:{keydown:function(e){switch(e.code){case v.ok:this.emit("click");break;case v.left:x.okBtn.focus();break;case v.back:case v.exit:x.hide(),e.stop=!0}},click:function(){x.hide()}}}))}),p.addListener("show",function(){try{c.focus(),c.focusItem(c.$focusItem)}catch(e){}window.breadcrumb=[]}),p.initService=function(e,t,i){D=[],window.pageServiceDescription.innerHTML="This is Red Bull TV. Red Bull TV features inspirational programming from the world of Red Bull, including live global events and an extensive selection of sports, music and lifestyle entertainment. With availability on your favorite device, Red Bull TV is there for you, whenever you want it.",E.loadPlugin(e,function(){L=E.current.plugin,L.info={serviceId:e},k=[L.root],window.breadcrumb=[],L.getCursor({item:L.root},function(e,s){e&&i(),L.getNext(s,function(e,i){i.forEach(function(e){var t={};t.value=e,D.push(t)}),L.root.searchable&&D.unshift({value:{title:"Search",type:C.plugin.SEARCH,img:"http://wimeo.h.od.ua/data/img/0.png"}}),c&&c.remove(),c=new g({data:D,size:D.length,render:function(e,t){var i=document.createElement("div"),n=document.createElement("div");e.innerHTML="",n.className="text",i.className="wrapper",n.innerText=t.value.title,t.value.specialClass?i.classList.add(t.value.specialClass):i.className="wrapper",t.value.searchType&&(e.data.value.searchType=t.value.searchType),i.appendChild(n),e.appendChild(i)}}),r.add(c),c.addListeners({"click:item":n,"focus:item":function(e){c.$node.style.top=p.$node.offsetHeight/2-c.$focusItem.index*c.$focusItem.offsetHeight-c.$focusItem.offsetHeight/2+"px",e.$curr.data.value.img&&(window.pageServiceCatImg.className=e.$curr.data.value.img)}}),c.$node.style.top=p.$node.offsetHeight/2-c.$node.firstChild.offsetHeight/2+"px",c.focus(),c.focusIndex(0),t()})})})},p.addListener("keydown",function(e){switch(e.code){case v.back:a();break;case v.exit:window.parent!==window?b.exit():(l=m.current.activeComponent,x.show())}}),e.exports=p},function(e,t,i){"use strict";function n(e,t){var i=new XMLHttpRequest;i.open("GET",r+e,!0),i.onload=function(){try{return t(JSON.parse(this.responseText),!1)}catch(e){return t(JSON.parse(this.responseText),e.message)}},i.onerror=function(){return t(!1,this.statusText)},i.send(null)}var s={},a=i(9),o=i(4),r="https://api.redbull.tv/v1/";s.root={title:"simple plugin",img:"",type:a.global.ROOT,system:{type:a.plugin.ROOT,search:[]},searchable:!1},s.getNext=function(e,t){switch(e.page++,e.system.type){case a.plugin.ROOT:if(e.page>0)return void t(!1,[]);n("channels",function(e,i){var n=[];return i?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(i)),t(!1,[])):(e.channels.shift(),e.channels.shift(),n.push({title:"Search",img:"search",type:a.plugin.SEARCH,system:{type:a.plugin.SEARCH}}),e.channels.forEach(function(e){var t=0===e.sub_channels.length?a.global.CATEGORY:a.global.FOLDER;n.push({title:e.title,img:e.id,type:t,system:{title:e.title,id:e.id,subChannells:e.sub_channels,type:t===a.global.CATEGORY?a.plugin.CHANNEL:a.plugin.CHANNEL_LIST}})}),void t(!1,n))});break;case a.plugin.CHANNEL_LIST:var i=[{title:"All "+e.system.title,img:e.system.id,type:a.global.CATEGORY,system:{id:e.system.id,type:a.plugin.CHANNEL}}];e.system.subChannells.forEach(function(t){i.push({title:t.title,img:e.system.id,type:a.global.CATEGORY,system:{id:t.id,type:a.plugin.CHANNEL}})}),t(!1,i);break;case a.plugin.LIVE:break;case a.plugin.CHANNEL:n("channels/"+e.system.id+"/videos?offset="+9*e.page+"&limit=9",function(e,i){var n=[];return i?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(i)),t(!1,[])):(e.videos.forEach(function(e){var t;"event_stream"===e.type?(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/http:%2F%2Fimage.redbull.com%2F",""),t=t.replace(/%2F/g,"/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/http://image.redbull.com/"+t):(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/https:%2F%2Fredbulltv.redbullmediabase.com%2Fapi%2Fv1%2F",""),t=t.replace("%2F","/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/https://redbulltv.redbullmediabase.com/api/v1/"+t),n.push({title:e.title,tag:e.categories[e.categories.length-1],duration:e.duration,description:e.short_description,img:t,type:a.global.MOVIE,date:e.published_on,info:e.episode_number?e.subtitle+", Season"+e.season_number+", Episode "+e.episode_number:e.subtitle,system:{title:e.title,id:e.id,type:a.plugin.VIDEO}})}),void t(!1,n))});break;case a.plugin.VIDEO:n("videos/"+e.system.id,function(i,n){var s={};return n?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(n)),t(!1,[])):(i.videos.master.uri&&(s[240]={title:e.system.title,url:i.videos.master.uri,type:a.plugin.FILE}),i.videos.master.renditions[8500]?s[1080]={title:e.system.title,url:i.videos.master.renditions[8500],type:a.plugin.FILE}:i.videos.master.renditions[6500]&&(s[1080]={title:e.system.title,url:i.videos.master.renditions[6500],type:a.plugin.FILE}),i.videos.master.renditions[4500]?s[720]={title:e.system.title,url:i.videos.master.renditions[4500],type:a.plugin.FILE}:i.videos.master.renditions[3528]?s[720]={title:e.system.title,url:i.videos.master.renditions[3528],type:a.plugin.FILE}:i.videos.master.renditions[2500]&&(s[720]={title:e.system.title,url:i.videos.master.renditions[6500],type:a.plugin.FILE}),i.videos.master.renditions[1800]&&(s[480]={title:e.system.title,url:i.videos.master.renditions[1800],type:a.plugin.FILE}),i.videos.master.renditions[1200]&&(s[360]={title:e.system.title,url:i.videos.master.renditions[1200],type:a.plugin.FILE}),i.videos.master.renditions[856]?s[240]={title:e.system.title,url:i.videos.master.renditions[856],type:a.plugin.FILE}:i.videos.master.renditions[496]?s[240]={title:e.system.title,url:i.videos.master.renditions[496],type:a.plugin.FILE}:i.videos.master.renditions[296]&&(s[240]={title:e.system.title,url:i.videos.master.renditions[296],type:a.plugin.FILE}),void t(!1,s))});break;case a.plugin.SEARCH:n("search?search="+e.system.query+"&offset="+9*e.page+"&limit=9",function(e,i){var n=[];return i||0===e.search_results.length?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(i)),t(!1,[])):(e.search_results.forEach(function(e){var t;"event_stream"===e.type?(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/http:%2F%2Fimage.redbull.com%2F",""),t=t.replace(/%2F/g,"/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/http://image.redbull.com/"+t):(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/https:%2F%2Fredbulltv.redbullmediabase.com%2Fapi%2Fv1%2F",""),t=t.replace("%2F","/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/https://redbulltv.redbullmediabase.com/api/v1/"+t),n.push({title:e.title,tag:e.categories[e.categories.length-1],duration:e.duration||"",description:e.short_description,img:t,type:a.global.MOVIE,date:e.published_on,info:e.episode_number?e.subtitle+", Season"+e.season_number+", Episode "+e.episode_number:e.subtitle,system:{title:e.title,id:e.id,type:a.plugin.VIDEO}})}),void t(!1,n))})}},s.getPrev=function(e,t){if(e.page<0)return void t(!1,[]);switch(e.system.type){case a.plugin.ROOT:if(e.page>0)return void t(!1,[]);n("channels",function(e,i){var n=[];return i||!e.channels||0===e.channels.length?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(i)),t(!1,[])):(e.channels.shift(),e.channels.shift(),n.push({title:"Search",img:"ico.search.png",type:a.plugin.SEARCH,system:{type:a.plugin.SEARCH}}),e.channels.forEach(function(e){var t=0===e.sub_channels.length?a.global.CATEGORY:a.global.FOLDER;n.push({title:e.title,img:"ico."+e.id+".png",type:t,system:{title:e.title,id:e.id,subChannells:e.sub_channels,type:t===a.global.CATEGORY?a.plugin.CHANNEL:a.plugin.CHANNEL_LIST}})}),void t(!1,n))});break;case a.plugin.CHANNEL_LIST:var i=[{title:"All "+e.system.title,img:e.system.id,type:a.global.CATEGORY,system:{id:e.system.id,type:a.plugin.CHANNEL}}];e.system.subChannells.forEach(function(t){i.push({title:t.title,img:e.system.id,type:a.global.CATEGORY,system:{id:t.id,type:a.plugin.CHANNEL}})}),t(!1,i);break;case a.plugin.CHANNEL:n("channels/"+e.system.id+"/videos?offset="+9*e.page+"&limit=9",function(e,i){var n=[];return i?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(i)),t(!1,[])):(e.videos.forEach(function(e){var t;"event_stream"===e.type?(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/http:%2F%2Fimage.redbull.com%2F",""),t=t.replace(/%2F/g,"/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/http://image.redbull.com/"+t):(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/https:%2F%2Fredbulltv.redbullmediabase.com%2Fapi%2Fv1%2F",""),t=t.replace("%2F","/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/https://redbulltv.redbullmediabase.com/api/v1/"+t),n.push({title:e.title,tag:e.categories[e.categories.length-1],duration:e.duration,description:e.short_description,img:t,type:a.global.MOVIE,date:e.published_on,info:e.episode_number?e.subtitle+", Season"+e.season_number+", Episode "+e.episode_number:e.subtitle,system:{title:e.title,id:e.id,type:a.plugin.VIDEO}})}),void t(!1,n))});break;case a.plugin.VIDEO:n("videos/"+e.system.id,function(i,n){var s={};return n?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(n)),t(!1,[])):(i.videos.master.renditions[8500]?s[1080]={title:e.system.title,url:i.videos.master.renditions[8500],type:a.plugin.FILE}:i.videos.master.renditions[6500]&&(s[1080]={title:e.system.title,url:i.videos.master.renditions[6500],type:a.plugin.FILE}),i.videos.master.renditions[4500]?s[720]={title:e.system.title,url:i.videos.master.renditions[4500],type:a.plugin.FILE}:i.videos.master.renditions[3528]?s[720]={title:e.system.title,url:i.videos.master.renditions[3528],type:a.plugin.FILE}:i.videos.master.renditions[2500]&&(s[720]={title:e.system.title,url:i.videos.master.renditions[6500],type:a.plugin.FILE}),i.videos.master.renditions[1800]&&(s[480]={title:e.system.title,url:i.videos.master.renditions[1800],type:a.plugin.FILE}),i.videos.master.renditions[1200]&&(s[360]={title:e.system.title,url:i.videos.master.renditions[1200],type:a.plugin.FILE}),i.videos.master.renditions[856]?s[240]={title:e.system.title,url:i.videos.master.renditions[856],type:a.plugin.FILE}:i.videos.master.renditions[496]?s[240]={title:e.system.title,url:i.videos.master.renditions[496],type:a.plugin.FILE}:i.videos.master.renditions[296]&&(s[240]={title:e.system.title,url:i.videos.master.renditions[296],type:a.plugin.FILE}),void t(!1,s))});break;case a.plugin.SEARCH:n("search?search="+e.system.query+"&offset="+9*e.page+"&limit=9",function(e,i){var n=[];return i||0===e.search_results.length?(window.console||gSTB.Debug("Error in plugin: "+JSON.stringify(i)),t(!1,[])):(e.search_results.forEach(function(e){var t;"event_stream"===e.type?(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/http:%2F%2Fimage.redbull.com%2F",""),t=t.replace(/%2F/g,"/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/http://image.redbull.com/"+t):(t=e.images.landscape.uri.replace("https://api.redbull.tv/v1/images/https:%2F%2Fredbulltv.redbullmediabase.com%2Fapi%2Fv1%2F",""),t=t.replace("%2F","/"),t="http://images.redbull.tv/image/fetch/c_fill,h_"+o.data.metrics.videoHeight+",w_"+o.data.metrics.videoWidth+"/q_75/https://redbulltv.redbullmediabase.com/api/v1/"+t),n.push({title:e.title,tag:e.categories[e.categories.length-1],duration:e.duration||"",description:e.short_description,img:t,type:a.global.MOVIE,date:e.published_on,info:e.episode_number?e.subtitle+", Season"+e.season_number+", Episode "+e.episode_number:e.subtitle,system:{title:e.title,id:e.id,type:a.plugin.VIDEO}})}),void t(!1,n))})}e.page--},s.getCursor=function(e,t){var i=!1;t(i,{page:-1,system:e.item.system})},s.getInfo=function(e,t){t(e)},e.exports=s},function(e,t,i){"use strict";function n(e){s.call(this),this.data=e||{}}var s=i(10);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.idName="id",n.prototype.clear=function(){var e=this.data;return Object.keys(e).length>0?(this.data={},this.events.clear&&this.emit("clear",{data:e}),!0):!1},n.prototype.init=function(e){return e?(this.clear(),this.data=e,this.events.init&&this.emit("init",{data:e}),!0):!1},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){var i=e in this.data,n={name:e,curr:t};return i?(n.prev=this.data[e],t!==n.prev?(this.data[e]=t,this.events.change&&this.emit("change",n),!0):!1):(this.data[e]=t,this.events.change&&this.emit("change",n),!0)},n.prototype.unset=function(e){var t,i=e in this.data;return i?(t={name:e,prev:this.data[e]},delete this.data[e],this.events.change&&this.emit("change",t),!0):!1},e.exports=n},function(e,t,i){"use strict";function n(e){var t=this;this.isPLaying=!1,this.isPause=!1,this.totalDuration="",this.totalDurationSec=0,this.currentTime="",this.currentSec=0,this.rewindHelper={isActive:!1,startTime:0,time:0,timeout:0,duration:void 0,timeoutDuration:!1},this.setModeHelper={active:!1,timeout:0,time:0,timeStr:"",count:0,length:0,sec:0,timeoutDuration:0},this.audioPIDs=[],this.currentAudioPID=0,this.activeAspect=0,this.subtitlePIDs=[],this.currentSubtitle=null,this.durationInterval=0,this.allowInputPosition=!0,e=e||{},o.call(this,e),this.$node.classList.add("player"),this.init(e),s.addListener("media",function(e){n.prototype.mediaListener.call(t,e)})}var s=i(4),a=i(1),o=i(2);n.prototype=Object.create(o.prototype),n.prototype.constructor=n,n.prototype.ASPECT_TYPE_FIT=16,n.prototype.ASPECT_TYPE_BIG=64,n.prototype.ASPECT_TYPE_OPTIMAL=80,n.prototype.ASPECT_TYPE_ZOOM=0,n.prototype.aspects=[{name:"fit",mode:n.prototype.ASPECT_TYPE_FIT},{name:"big",mode:n.prototype.ASPECT_TYPE_BIG},{name:"opt",mode:n.prototype.ASPECT_TYPE_OPTIMAL},{name:"exp",mode:n.prototype.ASPECT_TYPE_ZOOM}],n.prototype.STEREO_MODE_OFF=0,n.prototype.STEREO_MODE_OVER_UNDER=1,n.prototype.STEREO_MODE_OVER_UNDER_HD=2,n.prototype.STEREO_MODE_SIDE_BY_SIDE=3,n.prototype.stereoModes=[{mode:n.prototype.STEREO_MODE_OFF,name:"Off"},{mode:n.prototype.STEREO_MODE_OVER_UNDER,name:"Over-Under"},{mode:n.prototype.STEREO_MODE_OVER_UNDER_HD,name:"Over-Under HD"},{mode:n.prototype.STEREO_MODE_SIDE_BY_SIDE,name:"Side-by-side"}],n.prototype.defaultEvents={keydown:function(e){switch(e.code){case a.ok:case a.playPause:this.playPause();break;case a.stop:this.stop();break;case a.forward:case a.right:this.rewind(!0);break;case a.rewind:case a.left:this.rewind(!1);break;case a.f4:case 117:this.nextAspect();break;case a.f1:this.nextAudioTrack();break;case a.f2:this.nextSubtitle();break;case a.f3:this.nextViewMode();break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:this.inputPosition(e.code)}}},n.prototype.mediaListener=function(e){var t,i,n,a,o=this,r={};switch(e.code){case s.EVENT_PLAYBACK_BEGIN:o.isPLaying=!0,o.durationInterval&&(clearInterval(o.durationInterval),o.durationInterval=0),o.durationInterval=setInterval(function(){o.currentSec=gSTB.GetPosTime(),i=o.parseTime(o.currentSec),o.currentTime=(i.hour>0?i.hour+":":"")+i.min+":"+i.sec,o.emit("duration",{sec:o.currentSec,time:o.currentTime})},1e3);break;case s.EVENT_GET_MEDIA_INFO:o.totalDurationSec=gSTB.GetMediaLen(),o.totalDurationSec>3600?o.setModeHelper.length=6:o.setModeHelper.length=4,t=o.parseTime(gSTB.GetMediaLen()),o.totalDuration=(t.hour>0?t.hour+":":"")+t.min+":"+t.sec,r.totalDuration=o.totalDuration,r.totalDurationSec=o.totalDurationSec;try{n=gSTB.GetAudioPIDs().replace(/pid:/g,'"pid":').replace(/lang:/g,'"lang":'),o.audioPIDs=JSON.parse(n)}catch(c){}try{a=gSTB.GetSubtitlePIDs().replace(/pid:/g,'"pid":').replace(/lang:/g,'"lang":'),o.subtitlePIDs=JSON.parse(a)}catch(c){}o.currentAudioPID=0,""!==o.audioPIDs[0].lang[0]?r.audioPid=o.audioPIDs[0].lang[0]:r.audioPid=void 0,o.currentSubtitle=null,r.subtitles=null,r.stereoMode={type:gSTB.Get3DConversionMode(),name:o.stereoModes[gSTB.Get3DConversionMode()].name},o.emit("get:info",r);break;case s.EVENT_CONTENT_ERROR:o.isPLaying=!1,o.emit("content:error");break;case s.EVENT_END_OF_FILE:o.currentSec=o.totalDurationSec,o.isPLaying=!1,o.emit("content:end");break;case s.EVENT_SUBTITLE_LOAD_ERROR:o.subtitlePIDs.pop()}},n.prototype.init=function(e){e.allowInputPosition&&(this.allowInputPosition=e.allowInputPosition),e.rewindDuration&&(this.rewindHelper.duration=e.rewindDuration),e.rewindTimeout&&(this.rewindHelper.timeoutDuration=e.rewindTimeout),e.inputPositionTimeout&&(this.setModeHelper.timeoutDuration=e.inputPositionTimeout),gSTB.InitPlayer(),gSTB.SetAspect(16),gSTB.SetVideoControl(0),gSTB.SetVideoState(0),gSTB.SetMode(0),gSTB.SetWinAlphaLevel(0,255),gSTB.SetWinAlphaLevel(1,255),gSTB.SetPIG(1,0,0,0),gSTB.Set3DConversionMode(0),gSTB.SetTopWin(0)},n.prototype.play=function(e,t){var i,n;this.totalDurationSec=0,this.currentSec=0,t=t||{},i=t.solution?t.solution:"auto",n=" position:"+t.position,gSTB.Play(i+" "+e+n,t.proxy)},n.prototype.stop=function(){gSTB.Stop(),clearInterval(this.durationInterval),this.isPLaying=!1,this.isPause=!1},n.prototype.playPause=function(){this.isPause?gSTB.Continue():gSTB.Pause(),
this.isPause=!this.isPause,this.emit("pause",{state:this.isPause})},n.prototype.rewind=function(e,t){var i=this;t=t||this.rewindHelper.duration||15,this.rewindHelper.isActive||(this.rewindHelper.isActive=!0,this.rewindHelper.startTime=this.currentSec,this.rewindHelper.time=this.currentSec,this.emit("rewind:start")),e?this.rewindHelper.time+t<this.totalDurationSec?this.rewindHelper.time+=t:this.rewindHelper.time=this.totalDurationSec:this.rewindHelper.time-t>0?this.rewindHelper.time-=t:this.rewindHelper.time=0,this.rewindHelper.timeout&&clearTimeout(this.rewindHelper.timeout),this.emit("rewind",{time:this.rewindHelper.time,shift:this.rewindHelper.time-this.rewindHelper.startTime}),this.rewindHelper.timeoutDuration?this.rewindHelper.timeout=setTimeout(function(){return clearInterval(i.durationInterval),i.durationInterval=0,i.rewindHelper.isActive=!1,i.emit("rewind:apply"),i.currentSec=i.rewindHelper.time,i.rewindHelper.timeout=0,i.rewindHelper.time===i.totalDurationSec?void i.emit("content:end"):void gSTB.SetPosTime(i.rewindHelper.time)},this.rewindHelper.timeoutDuration):(clearInterval(i.durationInterval),i.durationInterval=0,gSTB.SetPosTime(i.rewindHelper.time),i.currentSec=i.rewindHelper.time,i.rewindHelper.isActive=!1,i.emit("rewind:apply"))},n.prototype.nextAudioTrack=function(){var e=this;return this.audioPIDs.length<=1?!1:(this.currentAudioPID<this.audioPIDs.length-1?this.currentAudioPID++:this.currentAudioPID=0,gSTB.SetAudioPID(this.audioPIDs[this.currentAudioPID].pid),e.emit("audio:track",{lang:this.audioPIDs[this.currentAudioPID].lang[0],pid:this.audioPIDs[this.currentAudioPID].pid}),!0)},n.prototype.setAudioTrack=function(e){gSTB.SetAudioPID(this.audioPIDs[e].pid),this.currentAudioPID=e,this.emit("audio:track",{lang:this.audioPIDs[this.currentAudioPID].lang[0],pid:this.audioPIDs[this.currentAudioPID].pid})},n.prototype.nextAspect=function(){this.activeAspect++,this.activeAspect>this.aspects.length-1&&(this.activeAspect=0),gSTB.SetAspect(this.aspects[this.activeAspect].mode),this.emit("aspect:change",{type:this.aspects[this.activeAspect].mode,name:this.aspects[this.activeAspect].name})},n.prototype.setAspect=function(e){this.activeAspect=e,gSTB.SetAspect(this.aspects[this.activeAspect].mode),this.emit("aspect:change",{type:this.aspects[this.activeAspect].type,name:this.aspects[this.activeAspect].name})},n.prototype.nextSubtitle=function(){return this.subtitlePIDs.length<=0?(this.emit("subtitles:change",null),!1):(null===this.currentSubtitle?this.currentSubtitle=0:this.currentSubtitle<this.subtitlePIDs.length-1?this.currentSubtitle++:this.currentSubtitle=null,null!==this.currentSubtitle?(gSTB.SetSubtitlePID(this.subtitlePIDs[this.currentSubtitle].pid),gSTB.SetSubtitles(!0),this.emit("subtitles:change",{lang:this.subtitlePIDs[this.currentSubtitle].lang[0],pid:this.subtitlePIDs[this.currentSubtitle].pid})):(gSTB.SetSubtitles(!1),this.emit("subtitles:change",null)),!0)},n.prototype.setSubtitle=function(e){gSTB.SetSubtitlePID(this.subtitlePIDs[e].pid),gSTB.SetSubtitles(!0),this.currentSubtitle=e,this.emit("subtitles:change",{lang:this.subtitlePIDs[this.currentSubtitle].lang[0],pid:this.subtitlePIDs[this.currentSubtitle].pid})},n.prototype.hideSubtitles=function(){gSTB.SetSubtitles(!1),this.emit("subtitles:change",null)},n.prototype.loadExternalSubtitle=function(e){e&&"string"==typeof e&&(gSTB.LoadExternalSubtitles(e),this.subtitlePIDs.push({pid:8192}),this.emit("subtitles:load",null))},n.prototype.nextViewMode=function(){var e=gSTB.Get3DConversionMode();3>e?e++:e=0,this.emit("viewmode:change",{type:this.stereoModes[e].mode,name:this.stereoModes[e].name}),gSTB.Set3DConversionMode(e)},n.prototype.setViewMode=function(e){e>0&&3>=e&&(gSTB.Set3DConversionMode(e),this.emit("viewmode:change",{type:this.stereoModes[e].mode,name:this.stereoModes[e].name}))},n.prototype.inputPosition=function(e){var t,i,n,s,a=this,o=parseInt(e,10)-48,r=[],c=0;this.allowInputPosition&&(this.setModeHelper.active||(6===this.setModeHelper.length?this.setModeHelper.time=[0,0,0,0,0,0]:this.setModeHelper.time=[0,0,0,0],this.setModeHelper.count=0,this.setModeHelper.active=!0,6===this.setModeHelper.length?this.emit("position:input",{time:"00:00:00",start:!0,sec:0}):this.emit("position:input",{time:"00:00",start:!0,sec:0})),this.setModeHelper.count<=this.setModeHelper.length&&(this.setModeHelper.time.shift(),this.setModeHelper.time.push(o),r=this.setModeHelper.time.slice(0,this.setModeHelper.length+1),6===this.setModeHelper.length?this.setModeHelper.timeStr=r[0].toString()+r[1].toString()+":"+r[2].toString()+r[3].toString()+":"+r[4].toString()+r[5].toString():this.setModeHelper.timeStr=r[0].toString()+r[1].toString()+":"+r[2].toString()+r[3].toString(),this.setModeHelper.count++,6===this.setModeHelper.length&&(i=r.shift()+r.shift().toString(),c+=3600*parseInt(i,10)),n=r.shift()+r.shift().toString(),c+=60*parseInt(n,10),s=r.shift()+r.shift().toString(),c+=parseInt(s,10),c>this.totalDurationSec&&(c=this.totalDurationSec),this.setModeHelper.sec=c,this.emit("position:input",{time:a.setModeHelper.timeStr,sec:c})),clearTimeout(this.setModeHelper.timeout),t=this.setModeHelper.timeoutDuration?this.setModeHelper.timeoutDuration:2e3,this.setModeHelper.timeout=setTimeout(function(){a.setModeHelper.active=!1,clearInterval(a.durationInterval),a.durationInterval=0,gSTB.SetPosTime(a.setModeHelper.sec),a.emit("position:input",{time:a.setModeHelper.timeStr,sec:a.setModeHelper.sec,end:!0})},t))},n.prototype.setPosition=function(e){gSTB.SetPosTime(e),this.emit("position:set",{sec:e})},n.prototype.parseTime=function(e){var t,i,n;return e>=0?(t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i,10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i)):(e=Math.abs(e),t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i,10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),t="-"+t),{hour:t,min:i,sec:n}},e.exports=n},function(e,t,i){"use strict";function n(e){"error"===e.type,o--,r[this.group]--,a.events.link&&a.emit("link",{url:this.src,group:this.group}),0===r[this.group]&&a.events.group&&a.emit("group",{name:this.group}),0===o&&a.events.done&&a.emit("done")}var s=i(10),a=new s,o=0,r={};a.add=function(e){e.forEach(function(e){var t=new Image,i=e.url||e,s=e.group||"";o++,r[s]=void 0===r[s]?1:r[s]+1,t.src=i,t.group=s,t.onload=t.onerror=t.ontimeout=n})},e.exports=a},function(e,t){"use strict";if(!("classList"in document.documentElement)){var i=Array.prototype,n=i.indexOf,s=i.slice,a=i.push,o=i.splice,r=i.join;window.DOMTokenList=function(e){if(this._element=e,e.className!==this._classCache){if(this._classCache=e.className,!this._classCache)return;var t,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(t=0;t<i.length;t++)a.call(this,i[t])}},window.DOMTokenList.prototype={add:function(e){this.contains(e)||(a.call(this,e),this._element.className=s.call(this,0).join(" "))},contains:function(e){return-1!==n.call(this,e)},item:function(e){return this[e]||null},remove:function(e){var t=n.call(this,e);-1!==t&&(o.call(this,t,1),this._element.className=s.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(e,t){"use strict";e.exports=function(e){var t={};return e.split("&").forEach(function(e){e=e.split("="),2===e.length&&(t[e[0]]=decodeURIComponent(e[1]))}),t}},function(e,t,i){"use strict";var n=i(34);e.exports=function(){var e=n(location.search.substring(1));return e.referrer?decodeURIComponent(e.referrer):document.referrer?location.href.split("#")[0]===document.referrer?!1:document.referrer:!1}},function(e,t,i){"use strict";function n(e){e=e||{},this.value="",this.type=this.TYPE_TEXT,e.className="input "+(e.className||""),s.call(this,e),this.$line=this.$body.appendChild(document.createElement("div")),this.$line.className="line",this.$caret=this.$line.appendChild(document.createElement("div")),this.$caret.className="caret",this.$placeholder=this.$line.appendChild(document.createElement("div")),this.$placeholder.className="placeholder",this.$caret.index=0,this.init(e)}var s=i(2),a=i(1);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.TYPE_TEXT=0,n.prototype.TYPE_PASSWORD=1,n.prototype.defaultEvents={keypress:function(e){this.addChar(String.fromCharCode(e.keyCode),this.$caret.index)},keydown:function(e){switch(e.code){case a["delete"]:this.removeChar(this.$caret.index);break;case a.back:this.removeChar(this.$caret.index-1);break;case a.left:this.setCaretPosition(this.$caret.index-1);break;case a.right:this.setCaretPosition(this.$caret.index+1);break;case a.end:case a.down:this.setCaretPosition(this.value.length);break;case a.home:case a.up:this.setCaretPosition(0)}}},n.prototype.init=function(e){e.type&&(this.type=e.type),e.value&&this.setValue(e.value),e.placeholder&&(this.$placeholder.innerText=e.placeholder),this.$line.dir=e.direction||"ltr"},n.prototype.addChar=function(e,t){var i=document.createElement("div");t=void 0===t?this.$caret.index:t,0===this.value.length&&this.$line.removeChild(this.$placeholder),i.className="char",this.value=this.value.substring(0,t)+e+this.value.substring(t,this.value.length),++this.$caret.index,this.type===this.TYPE_PASSWORD?i.innerText="*":" "===e?i.innerHTML="&nbsp;":i.innerText=e,t>=this.value.length?(this.$line.appendChild(i),this.$line.appendChild(this.$caret)):(this.$line.insertBefore(this.$caret,this.$line.children[t]),this.$line.insertBefore(i,this.$caret)),this.events.input&&this.emit("input",{value:this.value})},n.prototype.removeChar=function(e){var t=this.value;e=void 0===e?this.$caret.index-1:e,this.value.length>0&&(this.$caret.index===e&&e<this.value.length?this.$line.removeChild(this.$line.children[e+1]):this.$caret.index>e&&(--this.$caret.index,this.$line.removeChild(this.$line.children[e])),this.value=this.value.substring(0,e)+this.value.substring(e+1,this.value.length),this.events.input&&t!==this.value&&this.emit("input",{value:this.value})),0===this.value.length&&this.$line.appendChild(this.$placeholder)},n.prototype.setCaretPosition=function(e){e>=0&&e<=this.value.length&&this.$caret.index!==e&&(this.$line.removeChild(this.$caret),e===this.value.length?this.$line.appendChild(this.$caret):this.$line.insertBefore(this.$caret,this.$line.children[e]),this.$caret.index=e)},n.prototype.setValue=function(e){var t,i,n=this.value.length,s=e.length,a=0;if(e!==this.value){if(s>0){if(this.$placeholder.parentNode===this.$line&&this.$line.removeChild(this.$placeholder),this.$line.removeChild(this.$caret),s!==n)if(i=s-n,i>0)for(a=0;i>a;a++)t=this.$line.appendChild(document.createElement("div")),t.className="char";else for(a=0;a>i;a--)this.$line.removeChild(this.$line.lastChild);for(a=0;s>a;a++)t=this.$line.children[a],this.type===this.TYPE_PASSWORD?t.innerHTML="*":" "===e[a]?t.innerHTML="&nbsp;":t.innerText=e[a];this.value=e,this.$caret.index=s,this.$line.appendChild(this.$caret)}else this.value="",this.$line.innerText="",this.$line.appendChild(this.$caret),this.$line.appendChild(this.$placeholder);this.events.input&&this.emit("input",{value:this.value})}},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,e.type&&(this.type=e.type),e.className="list "+(e.className||""),this.type===this.TYPE_HORIZONTAL&&(e.className+=" horizontal"),a.call(this,e),this.init(e)}function s(e){var t,i;for(t=0;t<e.length;t++)i=e[t],"object"!=typeof i&&(i=e[t]={value:e[t]});return e}var a=i(2),o=i(1);n.prototype=Object.create(a.prototype),n.prototype.constructor=n,n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.renderItemDefault=function(e,t){e.innerText=t.value},n.prototype.renderItem=n.prototype.renderItemDefault,n.prototype.defaultEvents={mousewheel:function(e){this.type===this.TYPE_VERTICAL&&e.wheelDeltaY&&this.move(e.wheelDeltaY>0?o.up:o.down),this.type===this.TYPE_HORIZONTAL&&e.wheelDeltaX&&this.move(e.wheelDeltaX>0?o.left:o.right)},keydown:function(e){switch(e.code){case o.up:case o.down:case o.right:case o.left:case o.pageUp:case o.pageDown:case o.home:case o.end:this.move(e.code);break;case o.ok:this.events["click:item"]&&this.emit("click:item",{$item:this.$focusItem,event:e})}}},n.prototype.init=function(e){var t,i,n=this,a=this.$body.children.length,o=function(e){this.data&&(n.focusItem(this),n.events["click:item"]&&n.emit("click:item",{$item:this,event:e}))};if(void 0!==e.cycle&&(this.cycle=e.cycle),e.scroll&&(this.scroll=e.scroll),e.data&&(this.data=s(e.data)),e.render&&(this.renderItem=e.render),e.size&&(this.size=e.size),this.size!==a)for(a>0&&(this.$body.innerText=null),i=0;i<this.size;i++)t=document.createElement("div"),t.index=i,t.className="item",t.addEventListener("click",o),this.$body.appendChild(t);void 0!==e.viewIndex,this.viewIndex=null,void 0!==e.focusIndex?this.focusIndex(e.focusIndex):this.renderView(e.viewIndex||0)},n.prototype.renderView=function(e){var t,i,n,s,a;if(this.viewIndex!==e){for(s=this.viewIndex,this.viewIndex=a=e,i=0;i<this.size;i++)t=this.$body.children[i],n=this.data[e],n?(t.data=n,t.index=e,this.renderItem(t,n),n.mark?t.classList.add("mark"):t.classList.remove("mark")):(t.data=t.index=void 0,t.innerHTML="&nbsp;"),e++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:s,currIndex:a}),this.events["select:item"]&&this.emit("select:item",{$item:t}),this.scroll&&this.scroll.scrollTo(this.viewIndex),!0}return!1},n.prototype.move=function(e){(e===o.up&&this.type===this.TYPE_VERTICAL||e===o.left&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index>0?this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling):this.cycle?(this.move(o.end),this.events.cycle&&this.emit("cycle",{direction:e})):this.events.overflow&&this.emit("overflow",{direction:e})),(e===o.down&&this.type===this.TYPE_VERTICAL||e===o.right&&this.type===this.TYPE_HORIZONTAL)&&(this.$focusItem&&this.$focusItem.index<this.data.length-1?this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling):this.cycle?(this.move(o.home),this.events.cycle&&this.emit("cycle",{direction:e})):this.events.overflow&&this.emit("overflow",{direction:e})),e===o.pageUp&&(this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild)),e===o.pageDown&&(this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])),e===o.home&&(this.renderView(0),this.focusItem(this.$body.firstChild)),e===o.end&&(this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]))},n.prototype.focusItem=function(e){var t=this.$focusItem;return e&&t!==e?(null!==t&&(t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t})),this.$focusItem=e,this.$focusItem.data=this.data[this.$focusItem.index],e.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:t,$curr:e}),this.events["select:item"]&&this.emit("select:item",{$item:e}),!0):!1},n.prototype.focusIndex=function(e){var t=this.viewIndex||0;e>=t+this.size?(e=e<this.data.length-1?e:this.data.length-1,this.renderView(e-this.size+1),this.focusItem(this.$body.lastChild)):t>e?(e=e>0?e:0,this.renderView(e),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[e-t]))},n.prototype.markItem=function(e,t){t?e.classList.add("mark"):e.classList.remove("mark"),e.data.mark=t},e.exports=n},function(e,t,i){"use strict";function n(e){e=e||{},this.max=100,this.min=0,this.value=0,this.step=1,e.focusable=e.focusable||!1,e.className="progressBar "+(e.className||""),s.call(this,e),this.$value=this.$body.appendChild(document.createElement("div")),this.$value.className="value",this.init(e)}var s=i(2);n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.set=function(e){var t=this.value;return this.value!==e&&e<=this.max&&e>=this.min?(this.value=e,e=Math.abs(this.value-this.min)/this.step,100===e&&this.events.done&&this.emit("done"),this.$value.style.width=e+"%",this.events.change&&this.emit("change",{curr:this.value,prev:t}),!0):!1},n.prototype.init=function(e){void 0!==e.max&&(this.max=e.max),void 0!==e.min&&(this.min=e.min),void 0!==e.value&&(this.value=e.value),this.step=Math.abs(this.max-this.min)/100,this.$value.style.width=Math.abs(this.min-this.value)/this.step+"%"},e.exports=n},function(e,t){"use strict";e.exports={en:[[1,2,3,4,5,6,7,8,9,0,{value:"",id:"keyBackspace",img:"key.del",underline:"red"}],["q","w","e","r","t","y","u","i","o","p","@"],["a","s","d","f","g","h","j","k","l","_","&"],["z","x","c","v","b","n","m",",",".","-","?"],["#",{value:"",id:"keyUp",img:"key.up"},{value:" ",id:"keySpace",colSpan:7},{value:"",id:"keyLeft",img:"key.left"},{value:"",id:"keyRight",img:"key.right"}]],ru:[[1,2,3,4,5,6,7,8,9,0,"@",{value:"",id:"keyBackspace",img:"key.del",underline:"red"}],["й","ц","у","к","е","н","г","ш","щ","з","х","ъ"],["ф","ы","в","а","п","р","о","л","д","ж","э","?"],["я","ч","с","м","и","т","ь","б","ю",",",".","-"],[{value:"Ру",id:"keyLang",underline:"yellow"},{value:"",id:"keyUp",img:"key.up"},{value:" ",id:"keySpace",colSpan:7},{value:"",id:"keyLeft",img:"key.left"},{value:"",id:"keyRight",img:"key.right"},{value:"",disable:!0}]]}},function(e,t){"use strict";e.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48,movieCount:{TYPE_GAMES:5,TYPE_CONTENT:3},videoHeight:120,videoWidth:220,movieImgSIze:{TYPE_GAMES:"90x120",TYPE_CONTENT:"220x120"},playerImgSize:"40x40"},576:{height:576,width:720,availTop:24,availBottom:24,availRight:28,availLeft:54,movieCount:{TYPE_GAMES:5,TYPE_CONTENT:3},videoHeight:120,videoWidth:220,movieImgSIze:{TYPE_GAMES:"90x120",TYPE_CONTENT:"220x120"},playerImgSize:"40x40"},720:{height:720,width:1280,availTop:20,availBottom:20,availRight:20,availLeft:20,movieCount:{TYPE_GAMES:6,TYPE_CONTENT:3},videoHeight:180,videoWidth:318,movieImgSIze:{TYPE_GAMES:"136x190",TYPE_CONTENT:"320x180"},playerImgSize:"60x60"},1080:{height:1080,width:1920,availTop:15,availBottom:15,availRight:15,availLeft:15,movieCount:{TYPE_GAMES:5,TYPE_CONTENT:3},videoHeight:180,videoWidth:420,movieImgSIze:{TYPE_GAMES:"270x380",TYPE_CONTENT:"320x180"},playerImgSize:"90x90"}}},function(e,t){"use strict";e.exports={parse:function(e){var t={};return e.split("&").forEach(function(e){e=e.split("="),2===e.length&&(t[e[0]]=decodeURIComponent(e[1]))}),t},stringify:function(e){var t=[];return Object.keys(e).forEach(function(i){t.push(i+"="+encodeURIComponent(e[i]))}),t.join("&")}}},function(e,t,i){"use strict";var n=i(41).parse;e.exports=function(){var e=n(location.search.substring(1));return e.referrer?e.referrer:document.referrer?location.href.split("#")[0]===document.referrer?!1:document.referrer:!1}}]);